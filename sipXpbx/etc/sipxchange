# Use delay-compressed logfiles
compress
delaycompress

# Keep 14 days of logs
daily
rotate 14

# It's OK if the files aren't there
missingok

# Now we list the files, excluding sipxconfig.log.  If you have
# a log file that starts with 's' but not with 'sip', and you
# want it rotated w/o copytruncate, list full path name here
/var/log/sipxpbx/sip?[!c]*.log /var/log/sipxpbx/[!s]*.log {
}

# Java does not reopen log file periodically, make a copy
# and truncate current log file.  May lose some data, but 
# this will be addressed in future release
/var/log/sipxpbx/sipxconfig.log {
   copytruncate
}

/var/log/sipxpbx/httpd_error_log /var/log/sipxpbx/httpd_access_log {
    notifempty
    sharedscripts
    postrotate
        /bin/kill -USR1 `cat /var/run/sipxpbx/httpd.pid 2>/dev/null` 2> /dev/null || true
    endscript
}

# Get rid of core files older than 10 days
/var/log/sipxpbx/core.[0-9]* {
   compress
   maxage 10
   nosharedscripts
   rotate 0
}
